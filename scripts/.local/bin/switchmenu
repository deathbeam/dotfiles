#!/bin/sh
shopt -s nullglob globstar
scriptpath=$(dirname "$(readlink -f "$0")")

window=$(hyprctl clients -j \
    | jq -r '.[] | select(.monitor != -1) | "\(.address) \(.title)"' \
    | $scriptpath/fzfmenu "$@" --with-nth "2..")

[ -z "$window" ] && exit
exec hyprctl dispatch focuswindow address:$(echo "$window" | awk '{print $1}')
