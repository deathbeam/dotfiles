#!/bin/sh

get_window_title() {
    hyprctl activewindow | grep 'title' | cut -d' ' -f2-
}

get_random_sleep_interval() {
    awk -v min=4.3 -v max=5.25 'BEGIN{srand(); print min+rand()*(max-min)}'
}

while true; do
    current_title=$(get_window_title)
    if [ "$current_title" = "Path of Exile" ]; then
        xdotool key 1
    fi
    sleep_interval=$(get_random_sleep_interval)
    sleep $sleep_interval
done
